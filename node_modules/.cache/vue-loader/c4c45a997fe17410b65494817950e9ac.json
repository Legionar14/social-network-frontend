{"remainingRequest":"/home/novalite/internship-project/social-network-vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/novalite/internship-project/social-network-vue/src/components/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/novalite/internship-project/social-network-vue/src/components/Login.vue","mtime":1570094639890},{"path":"/home/novalite/internship-project/social-network-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/novalite/internship-project/social-network-vue/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/novalite/internship-project/social-network-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/novalite/internship-project/social-network-vue/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport axios from \"axios\"\n\nexport default {\n    name: 'Login',\n    data() {\n        return {\n            username: '',\n            password: '',\n            err: false,\n            warring: false,\n        }\n    },\n    methods: {\n        login: function() {\n            this.loading = true;\n            if(this.username != '' && this.password != ''){\n                axios\n                .get(`http://localhost:9000/login/${this.username}/${this.password}`)\n                .then((response) => {\n                    this.user = response.data,\n                    this.$router.push(\"main\"),\n                    localStorage.setItem('user', JSON.stringify(this.user))\n                    let token = JSON.stringify(response.headers['jw_token'])\n                    sessionStorage.setItem('token', token)\n                },\n                () => {\n                    this.err = true;\n                    this.username = '';\n                    this.password = '';\n                    setTimeout(() => {\n                        this.err = false;\n                    }, 2000);\n                })\n            } else {\n                this.warring = true\n                setTimeout(() => {\n                    this.warring = false;\n                }, 2000);\n            }\n        }\n    }\n}\n",{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiCA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div class=\"login\">\n        <b-container align-h=\"center\" class=\"form\">\n            <b-col>\n                <b-row no-gutters align-h=\"center\">\n                    <h1>Login</h1>\n                </b-row>\n                <br>\n                <b-row no-gutters>\n                    <b-form-input required type=\"text\" v-model=\"username\" placeholder=\"Username\"></b-form-input>\n                </b-row>\n                <br>\n                <b-row no-gutters>\n                    <b-form-input required type=\"password\" v-model=\"password\" placeholder=\"Password\"></b-form-input>\n                </b-row>\n                <b-row  no-gutters align-h=\"center\">\n                    <b-button type=\"button\" class=\"btn loginBtn\" @click=\"login\">Login</b-button>\n                </b-row>\n                <b-row  no-gutters>\n                    <p>Or if you don't have account go to <router-link to=\"/signup\">Sign Up</router-link> page.</p>\n                </b-row>\n                <b-row  no-gutters v-if=\"this.err\" class=\"error\">\n                    Username or password incorrect\n                </b-row>\n                <b-row no-gutters v-if=\"this.warring\" class=\"error\">            \n                    Username and password are mandatory\n                </b-row>\n            </b-col>\n        </b-container>\n    </div>\n</template>\n\n<script>\nimport axios from \"axios\"\n\nexport default {\n    name: 'Login',\n    data() {\n        return {\n            username: '',\n            password: '',\n            err: false,\n            warring: false,\n        }\n    },\n    methods: {\n        login: function() {\n            this.loading = true;\n            if(this.username != '' && this.password != ''){\n                axios\n                .get(`http://localhost:9000/login/${this.username}/${this.password}`)\n                .then((response) => {\n                    this.user = response.data,\n                    this.$router.push(\"main\"),\n                    localStorage.setItem('user', JSON.stringify(this.user))\n                    let token = JSON.stringify(response.headers['jw_token'])\n                    sessionStorage.setItem('token', token)\n                },\n                () => {\n                    this.err = true;\n                    this.username = '';\n                    this.password = '';\n                    setTimeout(() => {\n                        this.err = false;\n                    }, 2000);\n                })\n            } else {\n                this.warring = true\n                setTimeout(() => {\n                    this.warring = false;\n                }, 2000);\n            }\n        }\n    }\n}\n</script>\n\n<style>\n.login {\n    display: grid;\n    grid-template-columns: 40% 60%;\n}\n.form {\n    margin-top: 10%;\n    grid-column-start: 2;\n}\n.loginBtn {\n    margin: 20px 0;\n}\n.error {\n    color: rgb(207, 17, 17);\n    text-align: center;\n}\n</style>"]}]}