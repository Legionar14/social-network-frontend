{"remainingRequest":"/home/novalite/internship-project/social-network-vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/novalite/internship-project/social-network-vue/src/components/FriendsList.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/novalite/internship-project/social-network-vue/src/components/FriendsList.vue","mtime":1570108816886},{"path":"/home/novalite/internship-project/social-network-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/novalite/internship-project/social-network-vue/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/novalite/internship-project/social-network-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/novalite/internship-project/social-network-vue/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport axios from \"axios\"\n\nexport default {\n    name: 'FriendsList',\n    props: {\n      userId: Number,\n      from: String\n    },\n    data() {\n        return {\n          users: [],\n          friends: [],\n          sentRequest: JSON.parse(localStorage.getItem('sentRequest')),\n          userTwo: 0,\n          token: JSON.parse(sessionStorage.getItem('token')),\n          user: JSON.parse(localStorage.getItem('user')),\n          update: 0\n        }\n    },\n    mounted () {\n        axios.defaults.headers['jw_token'] = this.token;\n\n        axios\n        .get(`http://localhost:9000/friends/${this.userId}`)\n        .then((response) => {\n          this.friends = response.data; \n        }),\n        axios\n          .get('http://localhost:9000/users')\n          .then((response) => {\n          this.users = response.data\n        })\n  },\n  methods: {\n    acceptRequest(userOne) {\n      axios.post(`http://localhost:9000/acceptRequest/${userOne}/${this.userId}`)\n      .then(() => {\n          localStorage.removeItem('sentRequest');\n          window.location.reload();\n        })\n    },\n  }\n}\n",{"version":3,"sources":["FriendsList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAiBA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"FriendsList.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"friends\">\n      <h6 class=\"title\">Friends list</h6>\n      <hr>\n      <div v-for=\"friend of friends\" v-bind:key=\"friend\">\n          <p class=\"item\">{{users.find(x => x.id == friend.userTwo).username}} \n            <b-badge v-if=\"friend.status == 'confirmed'\" pill variant=\"dark\">{{friend.status}}</b-badge>\n            <b-badge v-if=\"friend.status == 'pending'\" pill variant=\"info\">{{friend.status}}</b-badge>\n            <a v-if=\"friend.status == 'pending' && from == 'profile' && \n            sentRequest != user.username\" href=\"#\" @click=\"acceptRequest(friend.userTwo)\"> Accept</a>\n          </p>\n          <hr>\n      </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\"\n\nexport default {\n    name: 'FriendsList',\n    props: {\n      userId: Number,\n      from: String\n    },\n    data() {\n        return {\n          users: [],\n          friends: [],\n          sentRequest: JSON.parse(localStorage.getItem('sentRequest')),\n          userTwo: 0,\n          token: JSON.parse(sessionStorage.getItem('token')),\n          user: JSON.parse(localStorage.getItem('user')),\n          update: 0\n        }\n    },\n    mounted () {\n        axios.defaults.headers['jw_token'] = this.token;\n\n        axios\n        .get(`http://localhost:9000/friends/${this.userId}`)\n        .then((response) => {\n          this.friends = response.data; \n        }),\n        axios\n          .get('http://localhost:9000/users')\n          .then((response) => {\n          this.users = response.data\n        })\n  },\n  methods: {\n    acceptRequest(userOne) {\n      axios.post(`http://localhost:9000/acceptRequest/${userOne}/${this.userId}`)\n      .then(() => {\n          localStorage.removeItem('sentRequest');\n          window.location.reload();\n        })\n    },\n  }\n}\n</script>\n\n<style scoped>\n.friends {\n  margin-top: 60px;\n  border: 1px solid #343a40;\n  border-radius: 10px;\n  height: 300px;\n  overflow: auto;\n  margin-right: 5%\n}\n.title {\n  margin-top: 10px;\n}\n.item {\n    margin-top: 15px;\n}\n</style>"]}]}