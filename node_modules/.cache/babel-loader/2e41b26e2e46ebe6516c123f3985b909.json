{"remainingRequest":"/home/novalite/internship-project/social-network-vue/node_modules/babel-loader/lib/index.js!/home/novalite/internship-project/social-network-vue/node_modules/eslint-loader/index.js??ref--13-0!/home/novalite/internship-project/social-network-vue/src/router/index.js","dependencies":[{"path":"/home/novalite/internship-project/social-network-vue/src/router/index.js","mtime":1570017510427},{"path":"/home/novalite/internship-project/social-network-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/novalite/internship-project/social-network-vue/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/novalite/internship-project/social-network-vue/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import Vue from 'vue';\nimport Router from 'vue-router';\nimport Login from \"../components/Login.vue\";\nimport CreatePost from \"../components/CreatePost.vue\";\nimport MainPage from \"../components/MainPage.vue\";\nimport Search from \"../components/Search.vue\";\nimport Profile from \"../components/Profile.vue\";\nimport Edit from \"../components/Edit.vue\";\nimport SignUp from \"../components/SignUp\";\nimport Users from \"../components/Users.vue\";\nVue.use(Router);\nvar router = new Router({\n  mode: 'history',\n  routes: [{\n    path: '/',\n    name: 'Login',\n    component: Login\n  }, {\n    path: '/signup',\n    name: 'SignUp',\n    component: SignUp\n  }, {\n    path: '/create',\n    name: 'Create',\n    component: CreatePost\n  }, {\n    path: '/main',\n    name: 'Main',\n    component: MainPage\n  }, {\n    path: '/search',\n    name: 'Search',\n    component: Search\n  }, {\n    path: '/profile',\n    name: 'Profile',\n    component: Profile\n  }, {\n    path: '/edit/:id',\n    name: 'Edit',\n    props: true,\n    component: Edit\n  }, {\n    path: '/users/:username',\n    name: 'Users',\n    props: true,\n    component: Users\n  }, {\n    path: '*',\n    redirect: '/'\n  }]\n});\nrouter.beforeEach(function (to, from, next) {\n  var token = JSON.parse(sessionStorage.getItem('token'));\n\n  if (to.fullPath === '/main' || to.fullPath === '/create' || to.fullPath === '/search' || to.fullPath === '/profile' || to.fullPath === '/edit' || to.fullPath === '/users') {\n    if (!token) {\n      next('/');\n    }\n  }\n\n  if (to.fullPath === '/' || to.fullPath === '/signup') {\n    if (token) {\n      next('/main');\n    }\n  }\n\n  next();\n});\nexport default router;",{"version":3,"sources":["/home/novalite/internship-project/social-network-vue/src/router/index.js"],"names":["Vue","Router","Login","CreatePost","MainPage","Search","Profile","Edit","SignUp","Users","use","router","mode","routes","path","name","component","props","redirect","beforeEach","to","from","next","token","JSON","parse","sessionStorage","getItem","fullPath"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,MAAP,MAAmB,YAAnB;AACA,OAAOC,KAAP;AACA,OAAOC,UAAP;AACA,OAAOC,QAAP;AACA,OAAOC,MAAP;AACA,OAAOC,OAAP;AACA,OAAOC,IAAP;AACA,OAAOC,MAAP;AACA,OAAOC,KAAP;AAEAT,GAAG,CAACU,GAAJ,CAAQT,MAAR;AAEA,IAAMU,MAAM,GAAG,IAAIV,MAAJ,CAAW;AACtBW,EAAAA,IAAI,EAAE,SADgB;AAEtBC,EAAAA,MAAM,EAAE,CACJ;AACIC,IAAAA,IAAI,EAAE,GADV;AAEIC,IAAAA,IAAI,EAAE,OAFV;AAGIC,IAAAA,SAAS,EAAEd;AAHf,GADI,EAMJ;AACIY,IAAAA,IAAI,EAAE,SADV;AAEIC,IAAAA,IAAI,EAAE,QAFV;AAGIC,IAAAA,SAAS,EAAER;AAHf,GANI,EAWJ;AACIM,IAAAA,IAAI,EAAE,SADV;AAEIC,IAAAA,IAAI,EAAE,QAFV;AAGIC,IAAAA,SAAS,EAAEb;AAHf,GAXI,EAgBJ;AACIW,IAAAA,IAAI,EAAE,OADV;AAEIC,IAAAA,IAAI,EAAE,MAFV;AAGIC,IAAAA,SAAS,EAAEZ;AAHf,GAhBI,EAqBJ;AACIU,IAAAA,IAAI,EAAE,SADV;AAEIC,IAAAA,IAAI,EAAE,QAFV;AAGIC,IAAAA,SAAS,EAAEX;AAHf,GArBI,EA0BJ;AACIS,IAAAA,IAAI,EAAE,UADV;AAEIC,IAAAA,IAAI,EAAE,SAFV;AAGIC,IAAAA,SAAS,EAAEV;AAHf,GA1BI,EA+BJ;AACIQ,IAAAA,IAAI,EAAE,WADV;AAEIC,IAAAA,IAAI,EAAE,MAFV;AAGIE,IAAAA,KAAK,EAAE,IAHX;AAIID,IAAAA,SAAS,EAAET;AAJf,GA/BI,EAqCJ;AACIO,IAAAA,IAAI,EAAE,kBADV;AAEIC,IAAAA,IAAI,EAAE,OAFV;AAGIE,IAAAA,KAAK,EAAE,IAHX;AAIID,IAAAA,SAAS,EAAEP;AAJf,GArCI,EA2CJ;AACIK,IAAAA,IAAI,EAAE,GADV;AAEII,IAAAA,QAAQ,EAAE;AAFd,GA3CI;AAFc,CAAX,CAAf;AAoDAP,MAAM,CAACQ,UAAP,CAAkB,UAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAoB;AAClC,MAAMC,KAAK,GAAGC,IAAI,CAACC,KAAL,CAAWC,cAAc,CAACC,OAAf,CAAuB,OAAvB,CAAX,CAAd;;AACA,MAAGP,EAAE,CAACQ,QAAH,KAAgB,OAAhB,IAA2BR,EAAE,CAACQ,QAAH,KAAgB,SAA3C,IAAwDR,EAAE,CAACQ,QAAH,KAAgB,SAAxE,IACHR,EAAE,CAACQ,QAAH,KAAgB,UADb,IAC2BR,EAAE,CAACQ,QAAH,KAAgB,OAD3C,IACsDR,EAAE,CAACQ,QAAH,KAAgB,QADzE,EACmF;AAC/E,QAAG,CAACL,KAAJ,EAAW;AACPD,MAAAA,IAAI,CAAC,GAAD,CAAJ;AACH;AACJ;;AACD,MAAGF,EAAE,CAACQ,QAAH,KAAgB,GAAhB,IAAuBR,EAAE,CAACQ,QAAH,KAAgB,SAA1C,EAAqD;AACjD,QAAGL,KAAH,EAAU;AACND,MAAAA,IAAI,CAAC,OAAD,CAAJ;AACH;AACJ;;AACDA,EAAAA,IAAI;AACP,CAdD;AAgBA,eAAeX,MAAf","sourcesContent":["import Vue from 'vue'\nimport Router from 'vue-router'\nimport Login from '../components/Login.vue'\nimport CreatePost from '../components/CreatePost.vue'\nimport MainPage from '../components/MainPage.vue'\nimport Search from '../components/Search.vue'\nimport Profile from '../components/Profile.vue'\nimport Edit from '../components/Edit.vue'\nimport SignUp from '../components/SignUp'\nimport Users from '../components/Users.vue'\n\nVue.use(Router)\n\nconst router = new Router({\n    mode: 'history',\n    routes: [\n        {\n            path: '/',\n            name: 'Login',\n            component: Login\n        },\n        {\n            path: '/signup',\n            name: 'SignUp',\n            component: SignUp\n        },\n        {\n            path: '/create',\n            name: 'Create',\n            component: CreatePost,\n        },\n        {\n            path: '/main',\n            name: 'Main',\n            component: MainPage,\n        },\n        {\n            path: '/search',\n            name: 'Search',\n            component: Search\n        },\n        {\n            path: '/profile',\n            name: 'Profile',\n            component: Profile\n        },\n        {\n            path: '/edit/:id',\n            name: 'Edit',\n            props: true,\n            component: Edit\n        },\n        {\n            path: '/users/:username',\n            name: 'Users',\n            props: true,\n            component: Users\n        },\n        {\n            path: '*',\n            redirect: '/'\n        }\n    ]\n})\n\nrouter.beforeEach((to, from, next) => {\n    const token = JSON.parse(sessionStorage.getItem('token'));\n    if(to.fullPath === '/main' || to.fullPath === '/create' || to.fullPath === '/search' || \n    to.fullPath === '/profile' || to.fullPath === '/edit' || to.fullPath === '/users') {\n        if(!token) {\n            next('/')\n        }\n    }\n    if(to.fullPath === '/' || to.fullPath === '/signup') {\n        if(token) {\n            next('/main')\n        }\n    }\n    next();\n});\n\nexport default router;"]}]}