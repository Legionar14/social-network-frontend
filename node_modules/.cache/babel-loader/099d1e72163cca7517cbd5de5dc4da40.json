{"remainingRequest":"/home/novalite/internship-project/social-network-vue/node_modules/babel-loader/lib/index.js!/home/novalite/internship-project/social-network-vue/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/novalite/internship-project/social-network-vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/novalite/internship-project/social-network-vue/src/components/CreatePost.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/novalite/internship-project/social-network-vue/src/components/CreatePost.vue","mtime":1569916302034},{"path":"/home/novalite/internship-project/social-network-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/novalite/internship-project/social-network-vue/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/novalite/internship-project/social-network-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/novalite/internship-project/social-network-vue/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from 'axios';\nimport Navbar from \"./Navbar.vue\";\nexport default {\n  name: 'CreatePost',\n  components: {\n    Navbar: Navbar\n  },\n  data: function data() {\n    return {\n      title: '',\n      body: '',\n      input: false,\n      user: JSON.parse(localStorage.getItem('user')),\n      token: JSON.parse(sessionStorage.getItem('token'))\n    };\n  },\n  methods: {\n    createPost: function createPost() {\n      var _this = this;\n\n      axios.defaults.headers['jw_token'] = this.token;\n\n      if (this.title != '' && this.body != '') {\n        axios.post('http://localhost:9000/posts', {\n          author: this.user.id,\n          title: this.title,\n          body: this.body\n        }).then(function () {\n          _this.$router.push(\"profile\");\n        });\n      } else {\n        this.input = true;\n      }\n    }\n  }\n};",{"version":3,"sources":["CreatePost.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAiBA,OAAA,KAAA,MAAA,OAAA;AAEA,OAAA,MAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,YADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,MAAA,EAAA;AADA,GAFA;AAKA,EAAA,IALA,kBAKA;AACA,WAAA;AACA,MAAA,KAAA,EAAA,EADA;AAEA,MAAA,IAAA,EAAA,EAFA;AAGA,MAAA,KAAA,EAAA,KAHA;AAIA,MAAA,IAAA,EAAA,IAAA,CAAA,KAAA,CAAA,YAAA,CAAA,OAAA,CAAA,MAAA,CAAA,CAJA;AAKA,MAAA,KAAA,EAAA,IAAA,CAAA,KAAA,CAAA,cAAA,CAAA,OAAA,CAAA,OAAA,CAAA;AALA,KAAA;AAOA,GAbA;AAcA,EAAA,OAAA,EAAA;AACA,IAAA,UAAA,EAAA,sBAAA;AAAA;;AACA,MAAA,KAAA,CAAA,QAAA,CAAA,OAAA,CAAA,UAAA,IAAA,KAAA,KAAA;;AAEA,UAAA,KAAA,KAAA,IAAA,EAAA,IAAA,KAAA,IAAA,IAAA,EAAA,EAAA;AACA,QAAA,KAAA,CACA,IADA,CACA,6BADA,EACA;AACA,UAAA,MAAA,EAAA,KAAA,IAAA,CAAA,EADA;AAEA,UAAA,KAAA,EAAA,KAAA,KAFA;AAGA,UAAA,IAAA,EAAA,KAAA;AAHA,SADA,EAMA,IANA,CAMA,YAAA;AACA,UAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA,SAAA;AACA,SARA;AASA,OAVA,MAUA;AACA,aAAA,KAAA,GAAA,IAAA;AACA;AACA;AAjBA;AAdA,CAAA","sourcesContent":["<template>\n    <div>\n        <Navbar />\n        <div class=\"divForm container\">\n            <p class=\"element title\">Title:</p>\n            <b-input class=\"element\" type=\"text\" v-model=\"title\" required placeholder=\"Title of post\"></b-input>\n            <br>\n            <p class=\"element\">Post text:</p>\n            <b-input class=\"element body\" type=\"text\" v-model=\"body\" required placeholder=\"Body of post...\"></b-input>\n            <br>\n            <b-button type=\"button\" @click=\"createPost\" class=\"btn element\" variant=\"dark\">Create post</b-button>\n            <p v-if=\"this.input\" class=\"error mt-3\">You must enter title and text of post</p>\n        </div>\n    </div>\n</template>\n\n<script>\nimport axios from 'axios'\n\nimport Navbar from './Navbar.vue'\nexport default {\n    name: 'CreatePost',\n    components: {\n        Navbar\n    },\n    data() {\n        return {\n            title: '',\n            body: '',\n            input: false,\n            user: JSON.parse(localStorage.getItem('user')),\n            token: JSON.parse(sessionStorage.getItem('token'))\n        }\n    },\n    methods: {\n        createPost: function() {\n            axios.defaults.headers['jw_token'] = this.token;\n\n            if(this.title != '' && this.body != ''){\n                axios\n                .post('http://localhost:9000/posts', {\n                    author: this.user.id,\n                    title: this.title,\n                    body: this.body\n                })\n                .then(() => {\n                    this.$router.push(\"profile\")\n                })\n            } else {\n                this.input = true\n            }\n        }\n    }\n}\n</script>\n\n<style scoped>\n.divForm {\n    display: grid;\n    grid-template-columns: 1fr 1fr 1fr\n}\n.element {\n    width: 100%;\n    grid-column-start: 2;\n    margin-left: 10%;\n    margin-top: 5px;\n}\n.btn {\n    margin-top: 15px;\n}\n.error {\n    color: rgb(207, 17, 17);\n}\n.title {\n    margin-top: 10%;\n}\n.body {\n    height: 200px;\n}\n</style>"],"sourceRoot":"src/components"}]}